{"ast":null,"code":"var _jsxFileName = \"/home/lucas/projetos-T23/sd-023-b-project-frontend-online-store/src/pages/Checkout.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Checkout extends Component {\n  constructor() {\n    var _this;\n\n    super(...arguments);\n    _this = this;\n    this.state = {\n      cart: !JSON.parse(localStorage.getItem('cart')) ? [] : JSON.parse(localStorage.getItem('cart')),\n      fullname: '',\n      email: '',\n      cpf: '',\n      phone: '',\n      cep: '',\n      address: '',\n      payment: false,\n      showMessage: false\n    };\n\n    this.validateForm = function () {\n      let {\n        fullname,\n        email,\n        cpf,\n        phone,\n        cep,\n        address\n      } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state;\n      const {\n        payment\n      } = _this.state;\n      const arrayInputs = [fullname, email, cpf, phone, cep, address];\n      return arrayInputs.some(input => input.length === 0 || !payment);\n    };\n\n    this.handleOnChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const name = target.type === 'radio' ? 'payment' : target.name;\n      const value = target.type === 'radio' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.completePurchase = () => {\n      if (this.validateForm()) {\n        return this.setState({\n          showMessage: true\n        });\n      }\n\n      localStorage.setItem('cart', JSON.stringify([]));\n      const {\n        history\n      } = this.props;\n      return history.push('/');\n    };\n  }\n\n  render() {\n    const {\n      cart,\n      fullname,\n      email,\n      cpf,\n      phone,\n      cep,\n      address,\n      showMessage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: cart.map(_ref2 => {\n          let {\n            title,\n            price,\n            orderQuantity,\n            id\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              \"data-testid\": \"shopping-cart-product-name\",\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              \"data-testid\": \"shopping-cart-product-quantity\",\n              children: orderQuantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), showMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-testid\": \"error-msg\",\n        children: \"Campos inv\\xE1lidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"fullname\",\n          value: fullname,\n          onChange: this.handleOnChange,\n          \"data-testid\": \"checkout-fullname\",\n          placeholder: \"fullname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: email,\n          onChange: this.handleOnChange,\n          \"data-testid\": \"checkout-email\",\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"cpf\",\n          value: cpf,\n          onChange: this.handleOnChange,\n          \"data-testid\": \"checkout-cpf\",\n          placeholder: \"cpf\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"phone\",\n          value: phone,\n          onChange: this.handleOnChange,\n          \"data-testid\": \"checkout-phone\",\n          placeholder: \"phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"cep\",\n          value: cep,\n          onChange: this.handleOnChange,\n          \"data-testid\": \"checkout-cep\",\n          placeholder: \"cep\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address\",\n          value: address,\n          onChange: this.handleOnChange,\n          \"data-testid\": \"checkout-address\",\n          placeholder: \"address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"boleto\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"payment\",\n            id: \"boleto\",\n            value: \"boleto\",\n            onChange: this.handleOnChange,\n            \"data-testid\": \"ticket-payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), \"Boleto\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"visa\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"payment\",\n            id: \"visa\",\n            value: \"visa\",\n            onChange: this.handleOnChange,\n            \"data-testid\": \"visa-payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), \"Visa\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"master\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"payment\",\n            id: \"master\",\n            value: \"master\",\n            onChange: this.handleOnChange,\n            \"data-testid\": \"master-payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), \"Master\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"elo\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"payment\",\n            id: \"elo\",\n            value: \"elo\",\n            onChange: this.handleOnChange,\n            \"data-testid\": \"elo-payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), \"Elo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"checkout-btn\",\n          onClick: this.completePurchase,\n          children: \"Concluir Compra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nCheckout.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default Checkout;","map":{"version":3,"names":["React","Component","PropTypes","Checkout","state","cart","JSON","parse","localStorage","getItem","fullname","email","cpf","phone","cep","address","payment","showMessage","validateForm","arrayInputs","some","input","length","handleOnChange","target","name","type","value","checked","setState","completePurchase","setItem","stringify","history","props","push","render","map","title","price","orderQuantity","id","propTypes","shape","func","isRequired"],"sources":["/home/lucas/projetos-T23/sd-023-b-project-frontend-online-store/src/pages/Checkout.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Checkout extends Component {\n  state = {\n    cart: (!JSON.parse(localStorage.getItem('cart'))\n      ? []\n      : JSON.parse(localStorage.getItem('cart'))),\n    fullname: '',\n    email: '',\n    cpf: '',\n    phone: '',\n    cep: '',\n    address: '',\n    payment: false,\n    showMessage: false,\n  }\n\n  validateForm = ({ fullname, email, cpf, phone, cep, address } = this.state) => {\n    const { payment } = this.state;\n    const arrayInputs = [fullname, email, cpf, phone, cep, address];\n    return arrayInputs.some((input) => input.length === 0 || !payment);\n  }\n\n  handleOnChange = ({ target }) => {\n    const name = target.type === 'radio' ? 'payment' : target.name;\n    const value = target.type === 'radio' ? target.checked : target.value;\n    this.setState({ [name]: value });\n  };\n\n  completePurchase = () => {\n    if (this.validateForm()) {\n      return this.setState({ showMessage: true });\n    }\n    localStorage.setItem('cart', JSON.stringify([]));\n    const { history } = this.props;\n    return history.push('/');\n  }\n\n  render() {\n    const {\n      cart,\n      fullname,\n      email,\n      cpf,\n      phone,\n      cep,\n      address,\n      showMessage,\n    } = this.state;\n    return (\n      <>\n        <div>\n          {cart.map(({ title, price, orderQuantity, id }) => (\n            <div key={ id }>\n              <p data-testid=\"shopping-cart-product-name\">{title}</p>\n              <p>{price}</p>\n              <p data-testid=\"shopping-cart-product-quantity\">\n                { orderQuantity }\n              </p>\n            </div>\n          )) }\n        </div>\n        {showMessage\n          && <p data-testid=\"error-msg\">Campos inválidos</p>}\n        <form>\n          <input\n            type=\"text\"\n            name=\"fullname\"\n            value={ fullname }\n            onChange={ this.handleOnChange }\n            data-testid=\"checkout-fullname\"\n            placeholder=\"fullname\"\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={ email }\n            onChange={ this.handleOnChange }\n            data-testid=\"checkout-email\"\n            placeholder=\"email\"\n          />\n          <input\n            type=\"text\"\n            name=\"cpf\"\n            value={ cpf }\n            onChange={ this.handleOnChange }\n            data-testid=\"checkout-cpf\"\n            placeholder=\"cpf\"\n          />\n          <input\n            type=\"text\"\n            name=\"phone\"\n            value={ phone }\n            onChange={ this.handleOnChange }\n            data-testid=\"checkout-phone\"\n            placeholder=\"phone\"\n          />\n          <input\n            type=\"text\"\n            name=\"cep\"\n            value={ cep }\n            onChange={ this.handleOnChange }\n            data-testid=\"checkout-cep\"\n            placeholder=\"cep\"\n          />\n          <input\n            type=\"text\"\n            name=\"address\"\n            value={ address }\n            onChange={ this.handleOnChange }\n            data-testid=\"checkout-address\"\n            placeholder=\"address\"\n          />\n          <label htmlFor=\"boleto\">\n            <input\n              type=\"radio\"\n              name=\"payment\"\n              id=\"boleto\"\n              value=\"boleto\"\n              onChange={ this.handleOnChange }\n              data-testid=\"ticket-payment\"\n            />\n            Boleto\n          </label>\n          <label htmlFor=\"visa\">\n            <input\n              type=\"radio\"\n              name=\"payment\"\n              id=\"visa\"\n              value=\"visa\"\n              onChange={ this.handleOnChange }\n              data-testid=\"visa-payment\"\n            />\n            Visa\n          </label>\n          <label htmlFor=\"master\">\n            <input\n              type=\"radio\"\n              name=\"payment\"\n              id=\"master\"\n              value=\"master\"\n              onChange={ this.handleOnChange }\n              data-testid=\"master-payment\"\n            />\n            Master\n          </label>\n          <label htmlFor=\"elo\">\n            <input\n              type=\"radio\"\n              name=\"payment\"\n              id=\"elo\"\n              value=\"elo\"\n              onChange={ this.handleOnChange }\n              data-testid=\"elo-payment\"\n            />\n            Elo\n          </label>\n          <button\n            type=\"button\"\n            data-testid=\"checkout-btn\"\n            onClick={ this.completePurchase }\n          >\n            Concluir Compra\n          </button>\n        </form>\n      </>\n\n    );\n  }\n}\n\nCheckout.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default Checkout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}