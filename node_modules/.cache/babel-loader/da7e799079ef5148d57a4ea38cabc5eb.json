{"ast":null,"code":"var _jsxFileName = \"/home/lucas/projetos-T23/sd-023-b-project-frontend-online-store/src/pages/Checkout.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport CheckoutForm from '../components/CheckoutForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Checkout extends Component {\n  constructor() {\n    var _this;\n\n    super(...arguments);\n    _this = this;\n    this.state = {\n      cart: !JSON.parse(localStorage.getItem('cart')) ? [] : JSON.parse(localStorage.getItem('cart')),\n      fullname: '',\n      email: '',\n      cpf: '',\n      phone: '',\n      cep: '',\n      address: '',\n      payment: false,\n      showMessage: false\n    };\n\n    this.validateForm = function () {\n      let {\n        fullname,\n        email,\n        cpf,\n        phone,\n        cep,\n        address\n      } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state;\n      const {\n        payment\n      } = _this.state;\n      const arrayInputs = [fullname, email, cpf, phone, cep, address];\n      return arrayInputs.some(input => input.length === 0 || !payment);\n    };\n\n    this.handleOnChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const name = target.type === 'radio' ? 'payment' : target.name;\n      const value = target.type === 'radio' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.completePurchase = () => {\n      if (this.validateForm()) {\n        return this.setState({\n          showMessage: true\n        });\n      }\n\n      localStorage.setItem('cart', JSON.stringify([]));\n      const {\n        history\n      } = this.props;\n      return history.push('/');\n    };\n  }\n\n  render() {\n    const {\n      cart,\n      fullname,\n      email,\n      cpf,\n      phone,\n      cep,\n      address,\n      showMessage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        cart: cart,\n        categories: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center text-center mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-5 mx-5\",\n            children: cart.map(_ref2 => {\n              let {\n                title,\n                thumbnail,\n                price,\n                orderQuantity,\n                id\n              } = _ref2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row justify-content-center align-items-center my-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-8 col-lg-3 mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: thumbnail.replace(/I.jpg/g, 'W.jpg'),\n                    alt: title,\n                    className: \"img-fluid mx-auto d-block\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 col-lg-9 text-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    \"data-testid\": \"shopping-cart-product-name\",\n                    className: \"row fs-6\",\n                    children: title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row my-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      \"data-testid\": \"shopping-cart-product-quantity\",\n                      children: orderQuantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 23\n                    }, this), `R$ ${price}`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)]\n              }, id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-lg-6\",\n            children: [/*#__PURE__*/_jsxDEV(CheckoutForm, {\n              fullname: fullname,\n              email: email,\n              cpf: cpf,\n              phone: phone,\n              cep: cep,\n              address: address,\n              handleOnChange: this.handleOnChange,\n              completePurchase: this.completePurchase\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), showMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n              \"data-testid\": \"error-msg\",\n              className: \"alert alert-danger my-3\",\n              children: \"Campos inv\\xE1lidos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nCheckout.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  }).isRequired\n};\nexport default Checkout;","map":{"version":3,"names":["React","Component","PropTypes","Header","CheckoutForm","Checkout","state","cart","JSON","parse","localStorage","getItem","fullname","email","cpf","phone","cep","address","payment","showMessage","validateForm","arrayInputs","some","input","length","handleOnChange","target","name","type","value","checked","setState","completePurchase","setItem","stringify","history","props","push","render","map","title","thumbnail","price","orderQuantity","id","replace","propTypes","shape","func","isRequired"],"sources":["/home/lucas/projetos-T23/sd-023-b-project-frontend-online-store/src/pages/Checkout.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport CheckoutForm from '../components/CheckoutForm';\n\nclass Checkout extends Component {\n  state = {\n    cart: (!JSON.parse(localStorage.getItem('cart'))\n      ? []\n      : JSON.parse(localStorage.getItem('cart'))),\n    fullname: '',\n    email: '',\n    cpf: '',\n    phone: '',\n    cep: '',\n    address: '',\n    payment: false,\n    showMessage: false,\n  }\n\n  validateForm = ({ fullname, email, cpf, phone, cep, address } = this.state) => {\n    const { payment } = this.state;\n    const arrayInputs = [fullname, email, cpf, phone, cep, address];\n    return arrayInputs.some((input) => input.length === 0 || !payment);\n  }\n\n  handleOnChange = ({ target }) => {\n    const name = target.type === 'radio' ? 'payment' : target.name;\n    const value = target.type === 'radio' ? target.checked : target.value;\n    this.setState({ [name]: value });\n  };\n\n  completePurchase = () => {\n    if (this.validateForm()) {\n      return this.setState({ showMessage: true });\n    }\n    localStorage.setItem('cart', JSON.stringify([]));\n    const { history } = this.props;\n    return history.push('/');\n  }\n\n  render() {\n    const {\n      cart,\n      fullname,\n      email,\n      cpf,\n      phone,\n      cep,\n      address,\n      showMessage,\n    } = this.state;\n    return (\n      <>\n        <Header cart={ cart } categories={ false } />\n        <section className=\"container\">\n          <div className=\"row justify-content-center text-center mt-3\">\n            <div className=\"col-12 col-lg-5 mx-5\">\n              {cart.map(({ title, thumbnail, price, orderQuantity, id }) => (\n                <div\n                  key={ id }\n                  className=\"row justify-content-center align-items-center my-3\"\n                >\n                  <div className=\"col-8 col-lg-3 mb-3\">\n                    <img\n                      src={ thumbnail.replace(/I.jpg/g, 'W.jpg') }\n                      alt={ title }\n                      className=\"img-fluid mx-auto d-block\"\n                    />\n                  </div>\n                  <div className=\"col-12 col-lg-9 text-start mb-3\">\n                    <div\n                      data-testid=\"shopping-cart-product-name\"\n                      className=\"row fs-6\"\n                    >\n                      {title}\n                    </div>\n                    <div className=\"row my-3\">\n                      <p data-testid=\"shopping-cart-product-quantity\">\n                        { orderQuantity }\n                      </p>\n                      {`R$ ${price}`}\n                    </div>\n                  </div>\n                  <hr />\n                </div>\n              )) }\n            </div>\n            <div className=\"col-12 col-lg-6\">\n              <CheckoutForm\n                fullname={ fullname }\n                email={ email }\n                cpf={ cpf }\n                phone={ phone }\n                cep={ cep }\n                address={ address }\n                handleOnChange={ this.handleOnChange }\n                completePurchase={ this.completePurchase }\n              />\n              {showMessage\n              && (\n                <p\n                  data-testid=\"error-msg\"\n                  className=\"alert alert-danger my-3\"\n                >\n                  Campos inválidos\n                </p>\n              )}\n            </div>\n          </div>\n        </section>\n      </>\n\n    );\n  }\n}\n\nCheckout.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default Checkout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}